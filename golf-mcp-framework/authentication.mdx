---
title: 'Authentication'
description: 'Implement JWT, development, and API key authentication in your GolfMCP servers.'
---

GolfMCP provides three authentication mechanisms to secure your MCP servers:
1. **JWT Authentication** - Enterprise-grade authentication with JWKS support for production
2. **Development Authentication** - Simple token-based authentication for development and testing
3. **API Key Authentication** - Pass-through authentication to upstream APIs

Authentication is configured using a dedicated `auth.py` file in your project root, providing clean separation from other build logic.

## JWT Authentication

### Overview

JWT authentication provides enterprise-grade security with JWKS (JSON Web Key Set) support. This is the recommended approach for production environments where you need standards-compliant token validation.

### Configuration

Configure JWT authentication in your project's `auth.py`:

```python
# auth.py
from golf.auth import configure_jwt_auth

configure_jwt_auth(
    jwks_uri_env_var="JWKS_URI",
    issuer_env_var="JWT_ISSUER", 
    audience_env_var="JWT_AUDIENCE",
    required_scopes=["read:user"]
)
```

### Environment Variables

Set these environment variables in your `.env` file:

```bash
JWKS_URI=https://your-provider.com/.well-known/jwks.json
JWT_ISSUER=https://your-provider.com/
JWT_AUDIENCE=your-api-audience
```

### How it Works

1. **Token Validation**: Golf validates JWTs against the JWKS endpoint
2. **Standards Compliance**: Full RFC 7519 JWT validation
3. **Scope Verification**: Ensures tokens have required scopes

## Development Authentication

### Overview

Development authentication provides a simple token-based system perfect for development and testing environments. You can define custom tokens with specific client IDs and scopes.

### Configuration

Configure development authentication in your project's `auth.py`:

```python
# auth.py
from golf.auth import configure_dev_auth

configure_dev_auth(
    tokens={
        "dev-token-123": {
            "client_id": "dev-client",
            "scopes": ["read", "write"]
        },
        "test-token-456": {
            "client_id": "test-client",
            "scopes": ["read"]
        }
    },
    required_scopes=["read"]
)
```

### Using Development Tokens

Pass tokens via the Authorization header:

```bash
curl -H "Authorization: Bearer dev-token-123" http://localhost:3000/sse
```

### Benefits

- **Simple Setup**: No external identity providers required
- **Flexible Scopes**: Define custom scopes per token
- **Fast Development**: Immediate authentication without OAuth flows
- **Testing Friendly**: Easy to create tokens for different test scenarios

## API Key Authentication

### Overview

Golf provides a simple API key pass-through authentication mechanism that allows MCP servers to extract API keys from request headers and forward them to upstream services. The actual authentication happens at the destination API level, not within the MCP server.

### Configuration

Configure API key extraction in your project's `auth.py`:

```python
# auth.py
from golf.auth import configure_api_key

# Configure which header contains the API key
configure_api_key(
    header_name="Authorization",  # Header to extract from
    header_prefix="Bearer "       # Optional prefix to strip
)
```

### How it works

1. **Middleware**: Golf automatically adds middleware that extracts the API key from incoming request headers
2. **Context Storage**: The extracted key is stored in a request-scoped context (only exists for the duration of the request)
3. **Tool Access**: Tools retrieve the API key using `get_api_key()`
4. **Pass-through**: Tools forward the key to upstream APIs in whatever format they require

### Using API Keys in Tools

Tools access the API key with a simple import:

```python
from golf.auth import get_api_key

async def my_tool():
    api_key = get_api_key()
    if not api_key:
        return {"error": "No API key provided"}
    
    # Use the key with your API
    response = await client.get(
        "https://api.example.com/endpoint",
        headers={"Authorization": f"Bearer {api_key}"}
    )
```